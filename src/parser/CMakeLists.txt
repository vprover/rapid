set(SPECTRE_PARSER_SOURCES
    WhileParser.cpp
    WhileScanner.cpp
    WhileParsingContext.cpp
)
set(SPECTRE_PARSER_HEADERS
    WhileParser.hpp
    WhileParserWrapper.hpp
	WhileParsingContext.hpp
)

add_library(parser ${SPECTRE_PARSER_SOURCES} ${SPECTRE_PARSER_HEADERS})
target_include_directories(parser PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})
target_link_libraries(parser program)

# suppress clang-warnings related to code, which is autogenerated by FLEX
if (NOT CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
	target_compile_options(
	    parser PUBLIC -Wno-deprecated-register
	)
endif()
